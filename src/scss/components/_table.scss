@use "sass:map";
@use "@angular/material" as mat;
@use "../mixin.scss";

@mixin theme($theme) {
  $color-config: mat.get-color-config($theme);
  $palette: map.get($color-config, primary);
  $warn: map.get($color-config, warn);
  $background-palette: map.get($color-config, background);
  /* TODO(mdc-migration): The following rule targets internal classes of tabs that may no longer apply for the MDC version. */
  mat-table {
    display: none;
    font-size: 120%;
    mat-header-row {
      flex-wrap: wrap;
      mat-header-cell {
        font-variant: small-caps;
        text-transform: uppercase;
        font-weight: bold !important;
      }
    }

    mat-row {
      flex-wrap: wrap;

      &[status="rejected"] {
        background-color: mat.get-color-from-palette($warn);
      }
    }

    mat-row:hover mat-cell {
      background-color: mat.get-color-from-palette($palette);
      cursor: pointer;
    }
  }

  [table-grid] {
    border: none;
    font-size: 120%;
    margin-bottom: 1rem;
    display: none;
    width: 100%;
    align-items: center;
    grid-template-columns: 1fr 2fr;
    background-color: mat.get-color-from-palette($background-palette, card);
    column-gap: 0.5rem;
    [label] {
      font-variant: small-caps;
      text-transform: uppercase;
      text-align: right;
      background-color: darken(mat.get-color-from-palette($background-palette, card), 10%);
      padding: 0.5rem;
    }
    [content] {
      font-weight: 400;
    }
    &[status="rejected"] {
      background-color: darken(mat.get-color-from-palette($warn), 10%);
      [label] {
        background-color: darken(mat.get-color-from-palette($warn), 20%);
      }
    }
  }
  @media screen and (max-width: 960px) {
    app-jobs [table-grid] {
      display: grid;
    }
    app-jobs mat-table {
      display: none;
    }
  }
}
